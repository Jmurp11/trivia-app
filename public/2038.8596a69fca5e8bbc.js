"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2038],{2038:(Z,a,u)=>{u.r(a),u.d(a,{QuizPageModule:()=>v});var h=u(6019),p=u(7816),o=u(3867),l=u(184),t=u(3245);let d=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-quiz"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"ion-router-outlet")},directives:[o.jP],styles:[""]}),n})();var q=u(7095);function m(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"ion-button",1),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().answerSelected(c)}),t._uU(2),t.qZA(),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw();t.xp6(2),t.Oqu(i.utilities.cleanText(e))}}let g=(()=>{class n{constructor(e){this.utilities=e,this.newAnswerEvent=new t.vpe}ngOnInit(){}ngOnChanges(e){e.question&&(this.question.question=this.utilities.cleanText(this.question.question),this.answerList=this.shuffleArray([...this.question.incorrect_answers,this.question.correct_answer]))}answerSelected(e){this.newAnswerEvent.emit({question:this.question.question,selected:this.utilities.cleanText(e),correct:this.utilities.cleanText(this.question.correct_answer)})}shuffleArray(e){for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1)),c=e[i];e[i]=e[r],e[r]=c}return e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-question"]],inputs:{question:"question",questionNum:"questionNum"},outputs:{newAnswerEvent:"newAnswerEvent"},features:[t.TTD],decls:9,vars:3,consts:[[4,"ngFor","ngForOf"],["expand","block",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-card-header"),t.TgZ(3,"ion-card-subtitle"),t._uU(4),t.qZA(),t.TgZ(5,"ion-card-title"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"ion-card-content"),t.YNc(8,m,3,1,"div",0),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.hij("Question #",i.questionNum,""),t.xp6(2),t.Oqu(i.question.question),t.xp6(2),t.Q6J("ngForOf",i.answerList))},directives:[o.PM,o.Zi,o.tO,o.Dq,o.FN,h.sg,o.YG],styles:[""],changeDetection:0}),n})();const Q=[{path:"",component:d,children:[{path:"",component:(()=>{class n{constructor(e){this.router=e,this.results=[]}ngOnInit(){this.score=0,this.counter=0,this.questions=this.router.getCurrentNavigation().extras.state.quiz,this.triviaType=this.router.getCurrentNavigation().extras.state.triviaType,this.quizLength=this.questions.length,this.setCurrentQuestion()}questionAnswered(e){this.results.push({question:this.currentQuestion.question,selected:e.selected,correct:e.correct}),this.questions=this.removeQuestion(this.questions,this.questions[this.currentQIndex].question),this.incrementScore(e.correct===e.selected),this.setCurrentQuestion()}indexOfNextQuestion(e){return Math.floor(Math.random()*e.length)}setCurrentQuestion(){this.questions.length<=0?this.router.navigate(["result"],{state:{result:{results:this.results,score:this.score,length:this.quizLength},details:this.results}}):(this.counter=this.counter+1,this.currentQIndex=this.indexOfNextQuestion(this.questions),this.currentQuestion=this.questions[this.currentQIndex])}incrementScore(e){e&&(this.score=this.score+1)}removeQuestion(e,i){return e.filter(r=>r.question!==i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-quiz"]],decls:8,vars:6,consts:[[3,"fullscreen"],[1,"center",3,"hidden"],["color","primary"],[3,"hidden","question","questionNum","newAnswerEvent"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-title"),t._uU(3),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content",0),t.TgZ(5,"div",1),t._UZ(6,"ion-spinner",2),t.qZA(),t.TgZ(7,"app-question",3),t.NdJ("newAnswerEvent",function(c){return i.questionAnswered(c)}),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(i.triviaType),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("hidden",i.currentQuestion),t.xp6(2),t.Q6J("hidden",!i.currentQuestion)("question",i.currentQuestion)("questionNum",i.counter))},directives:[o.Gu,o.sr,o.wd,o.W2,o.PQ,g],styles:[""]}),n})()}]}];let f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Q)],l.Bz]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.ez,p.u5,o.Pc,f]]}),n})()}}]);